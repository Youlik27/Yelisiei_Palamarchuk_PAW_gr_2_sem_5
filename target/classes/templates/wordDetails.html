<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml" lang="pl"
      th:replace="~{layout/main :: layout(content=~{::content})}">
<section th:fragment="content">

    <div class="banner-wrapper bg-light">
        <div class="container py-5">
            <div class="row py-4">
                <div class="col-lg-8 col-md-10 m-auto text-center">

                    <h1 class="banner-heading h1 text-secondary display-3 mb-4 light-300"
                        th:text="${wordObject.word}">
                        Słowo źródłowe
                    </h1>
                    <div class="mt-3" sec:authorize="isAuthenticated()">
                    <p class="fs-5 text-muted mb-4">
                        Jaki jest status tego słowa?
                    </p>


                        <form th:action="@{/word/status-change}" method="POST"
                              class="d-flex flex-column flex-md-row justify-content-center gap-2">

                            <input type="hidden" name="wordId" th:value="${wordObject.id}" />
                            <input type="hidden" name="wordName" th:value="${wordObject.word}" />

                            <select class="form-select form-select-lg" id="wordStatus" name="status"
                                    aria-label="Status słowa" style="max-width: 300px;"
                                    th:with="currentStatus=${getWordStatus != null ? getWordStatus.studyStatus : 'NIE_ZNAM'}">

                                <option value="NIE_ZNAM" th:selected="${currentStatus == 'NIE_ZNAM'}">Nie znam</option>
                                <option value="UCZE_SIE" th:selected="${currentStatus == 'UCZE_SIE'}">Uczę się</option>
                                <option value="ZNAM" th:selected="${currentStatus == 'ZNAM'}">Znam</option>
                                <option value="WAZNE" th:selected="${currentStatus == 'WAZNE'}">Ważne</option>
                            </select>

                            <button type="submit" class="btn btn-primary rounded-pill px-4 btn-lg">Zapisz</button>
                        </form>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <section class="container py-5">
        <div class="row">
            <h2 class="h2 text-center col-12 pb-4 semi-bold-600">Tłumaczenia</h2>
        </div>

        <div class="d-flex justify-content-center flex-wrap gap-3">

            <span th:each="translate:${wordTranslations}"
                  th:text="${translate.polishWord.word}"
                  class="badge bg-primary rounded-pill fs-5 fw-normal px-4 py-2">>
                Polski: dom
            </span>

            <span th:if="${wordTranslations == null OR wordTranslations.isEmpty()}"
                  class="text-muted fs-5 fst-italic">
                Brak tłumaczeń.
            </span>
        </div>
    </section>

    <div class="container py-5">
        <div class="text-center border-top pt-5">
            <a href="/" class="btn btn-secondary rounded-pill px-4 py-2">
                <i class='bx bx-arrow-back me-1'></i> Powrót do strony głównej
            </a>
        </div>
    </div>

</section>
</html>